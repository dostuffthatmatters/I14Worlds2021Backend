(this.webpackJsonpreact_frontend=this.webpackJsonpreact_frontend||[]).push([[8],{192:function(e,a,t){"use strict";var i=t(21);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(t(0)),r=(0,i(t(27)).default)(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}),n.default.createElement("path",{d:"M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"})),"ArrowBackIosTwoTone");a.default=r},199:function(e,a,t){"use strict";var i=t(21);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(t(0)),r=(0,i(t(27)).default)(n.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");a.default=r},200:function(e,a,t){"use strict";var i=t(21);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(t(0)),r=(0,i(t(27)).default)(n.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");a.default=r},221:function(e,a,t){"use strict";var i=t(37),n=t(38),r=t(41),l=t(39),s=t(34),c=t(40),o=t(0),d=t.n(o),m=(t(222),t(74)),u=t.n(m),g=t(26),p=t(183),h=t(246),f=t(177),b=t(223),v=t.n(b),k=t(199),I=t.n(k),x=t(200),y=t.n(x),O=t(2),E=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(r.a)(this,Object(l.a)(a).call(this,e))).state={loading:!0,shrinkImage:!1},t.cardRef=d.a.createRef(),t.buttonRef=d.a.createRef(),document.addEventListener("keydown",(function(e){"Escape"===e.key?t.props.closeImageSlider():t.props.images.length>1&&("ArrowLeft"===e.key?t.handleLeftClick():"ArrowRight"===e.key&&t.handleRightClick())})),t.handleLeftClick=t.handleLeftClick.bind(Object(s.a)(t)),t.handleRightClick=t.handleRightClick.bind(Object(s.a)(t)),t}return Object(c.a)(a,e),Object(n.a)(a,[{key:"handleLeftClick",value:function(){var e=this.props.imageSliderIndex-1;e<0&&(e+=this.props.images.length),this.setState({loading:!0}),this.props.newImageSliderIndex(e)}},{key:"handleRightClick",value:function(){var e=(this.props.imageSliderIndex+1)%this.props.images.length;this.setState({loading:!0}),this.props.newImageSliderIndex(e)}},{key:"render",value:function(){var e=this,a=this.props.classes;return d.a.createElement("div",{className:Object(O.a)(a.imageSlider,"ImageSlider")},d.a.createElement("div",{className:"Image"},d.a.createElement(h.a,{color:"secondary",style:{display:this.state.loading?"block":"none"}}),d.a.createElement(p.a,{ref:this.cardRef,className:a.card,elevation:3,style:{display:this.state.loading?"none":"block"}},d.a.createElement("img",{className:a.img,src:this.props.images[this.props.imageSliderIndex].filepath_full,alt:this.props.images[this.props.imageSliderIndex].description,onLoad:function(){return e.setState({loading:!1})}}))),d.a.createElement(f.a,{ref:this.buttonRef,"aria-label":"close image slider",className:Object(O.a)(a.icon,a.closeIcon),size:"medium",onClick:this.props.closeImageSlider},d.a.createElement(v.a,null)),this.props.images.length>1&&d.a.createElement(d.a.Fragment,null,d.a.createElement(f.a,{"aria-label":"previous image",className:Object(O.a)(a.icon,a.prevIcon),size:"medium",onClick:this.handleLeftClick},d.a.createElement(I.a,null)),d.a.createElement(f.a,{"aria-label":"next image",className:Object(O.a)(a.icon,a.nextIcon),size:"medium",onClick:this.handleRightClick},d.a.createElement(y.a,null))))}}]),a}(d.a.Component);a.a=u()((function(e){return{imageSlider:{backgroundColor:e.palette.gunmetalGray.main},card:{margin:e.spacing(2),maxWidth:"calc(100vw - ".concat(e.spacing(4),"px)"),maxHeight:"calc(100vh - ".concat(e.spacing(4),"px)")},img:{maxWidth:"calc(100vw - ".concat(e.spacing(4),"px)"),maxHeight:"calc(100vh - ".concat(e.spacing(4),"px)")},icon:{backgroundColor:e.palette.gunmetalGray.main,position:"fixed",color:"white",zIndex:3e3},closeIcon:{right:e.spacing(2),top:e.spacing(2)},prevIcon:{left:e.spacing(2),bottom:e.spacing(2)},nextIcon:{right:e.spacing(2),bottom:e.spacing(2)}}}))(Object(g.h)(E))},222:function(e,a,t){},223:function(e,a,t){"use strict";var i=t(21);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(t(0)),r=(0,i(t(27)).default)(n.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");a.default=r},224:function(e,a,t){"use strict";var i=t(1),n=t(3),r=t(0),l=t.n(r),s=(t(4),t(2)),c=t(6),o=["video","audio","picture","iframe","img"],d=l.a.forwardRef((function(e,a){var t=e.children,r=e.classes,c=e.className,d=e.component,m=void 0===d?"div":d,u=e.image,g=e.src,p=e.style,h=Object(n.a)(e,["children","classes","className","component","image","src","style"]),f=-1!==o.indexOf(m),b=!f&&u?Object(i.a)({backgroundImage:'url("'.concat(u,'")')},p):p;return l.a.createElement(m,Object(i.a)({className:Object(s.a)(r.root,c,f&&r.media,-1!=="picture img".indexOf(m)&&r.img),ref:a,style:b,src:f?u||g:void 0},h),t)}));a.a=Object(c.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(d)},225:function(e,a,t){"use strict";var i=t(1),n=t(3),r=t(0),l=t.n(r),s=(t(4),t(2)),c=t(6),o=l.a.forwardRef((function(e,a){var t=e.classes,r=e.className,c=e.component,o=void 0===c?"div":c,d=Object(n.a)(e,["classes","className","component"]);return l.a.createElement(o,Object(i.a)({className:Object(s.a)(t.root,r),ref:a},d))}));a.a=Object(c.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(o)},246:function(e,a,t){"use strict";var i=t(1),n=t(3),r=t(0),l=t.n(r),s=(t(4),t(2)),c=t(6),o=t(7);function d(e){var a,t,i;return a=e,t=0,i=1,e=(Math.min(Math.max(t,a),i)-t)/(i-t),e=(e-=1)*e*e+1}var m=l.a.forwardRef((function(e,a){var t,r=e.classes,c=e.className,m=e.color,u=void 0===m?"primary":m,g=e.disableShrink,p=void 0!==g&&g,h=e.size,f=void 0===h?40:h,b=e.style,v=e.thickness,k=void 0===v?3.6:v,I=e.value,x=void 0===I?0:I,y=e.variant,O=void 0===y?"indeterminate":y,E=Object(n.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),S={},j={},N={};if("determinate"===O||"static"===O){var C=2*Math.PI*((44-k)/2);S.strokeDasharray=C.toFixed(3),N["aria-valuenow"]=Math.round(x),"static"===O?(S.strokeDashoffset="".concat(((100-x)/100*C).toFixed(3),"px"),j.transform="rotate(-90deg)"):(S.strokeDashoffset="".concat((t=(100-x)/100,t*t*C).toFixed(3),"px"),j.transform="rotate(".concat((270*d(x/70)).toFixed(3),"deg)"))}return l.a.createElement("div",Object(i.a)({className:Object(s.a)(r.root,c,"inherit"!==u&&r["color".concat(Object(o.a)(u))],{indeterminate:r.indeterminate,static:r.static}[O]),style:Object(i.a)({width:f,height:f},j,{},b),ref:a,role:"progressbar"},N,E),l.a.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},l.a.createElement("circle",{className:Object(s.a)(r.circle,p&&r.circleDisableShrink,{indeterminate:r.circleIndeterminate,static:r.circleStatic}[O]),style:S,cx:44,cy:44,r:(44-k)/2,fill:"none",strokeWidth:k})))}));a.a=Object(c.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(m)},258:function(e,a,t){},321:function(e,a,t){"use strict";t.r(a);var i=t(37),n=t(38),r=t(41),l=t(39),s=t(34),c=t(40),o=t(0),d=t.n(o),m=t(12),u=t(26),g=(t(258),t(54)),p=t(55),h=t(183),f=t(225),b=t(224),v=t(184),k=t(178),I=t(182),x=t(44),y=t(192),O=t.n(y),E=t(74),S=t.n(E),j=t(221),N=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(r.a)(this,Object(l.a)(a).call(this,e))).state={imageSliderOpen:!1,imageSliderIndex:void 0},t.albumId=t.props.match.params.albumId,t.getImageList=t.getImageList.bind(Object(s.a)(t)),t.openImageSlider=t.openImageSlider.bind(Object(s.a)(t)),t.closeImageSlider=t.closeImageSlider.bind(Object(s.a)(t)),t.newImageSliderIndex=t.newImageSliderIndex.bind(Object(s.a)(t)),t}return Object(c.a)(a,e),Object(n.a)(a,[{key:"getImageList",value:function(e){var a=this,t=this.props.classes,i=e.images.map((function(e,i){return 0===e.visible?"":d.a.createElement(I.a,{item:!0,xs:12,sm:6,md:4,lg:4,xl:4,key:i},d.a.createElement(h.a,{elevation:3,className:t.card,onClick:function(){return a.openImageSlider(i)}},d.a.createElement(b.a,{className:t.cardMedia,image:e.filepath_medium,title:e.description,alt:e.description})))}));return d.a.createElement(I.a,{container:!0,spacing:2},i)}},{key:"openImageSlider",value:function(e){this.props.hideWebsite(!0),this.setState({imageSliderOpen:!0,imageSliderIndex:e})}},{key:"closeImageSlider",value:function(){this.props.hideWebsite(!1),this.setState({imageSliderOpen:!1})}},{key:"newImageSliderIndex",value:function(e){this.setState({imageSliderIndex:e})}},{key:"render",value:function(){var e,a=this,t=this.props.classes,i=this.props.getAlbumFromId(this.albumId);if(void 0===i)e=d.a.createElement(k.a,{variant:"h4",className:t.headline},"Nothing here ...");else{var n=i.name;0===n.length&&(n="No Title"),e=d.a.createElement(d.a.Fragment,null,d.a.createElement(k.a,{variant:"h4",className:t.headline},n),this.getImageList(i))}return d.a.createElement(d.a.Fragment,null,!this.state.imageSliderOpen&&d.a.createElement("div",{className:"GalleryPage"},d.a.createElement(m.b,{to:"/gallery",onClick:function(){return x.animateScroll.scrollToTop({duration:300})}},d.a.createElement(O.a,{className:t.backIcon,color:"secondary"})),e),this.state.imageSliderOpen&&d.a.createElement(j.a,{images:i.images,imageSliderIndex:this.state.imageSliderIndex,closeImageSlider:this.closeImageSlider,newImageSliderIndex:function(e){return a.newImageSliderIndex(e)}}))}}]),a}(d.a.Component),C=S()((function(e){return{backIcon:{position:"absolute",top:e.spacing(1),left:e.spacing(1)},headline:{paddingLeft:e.spacing(5),paddingRight:e.spacing(5),display:"block",textAlign:"center",marginBottom:e.spacing(4)},root:{flexGrow:1},card:{position:"relative",cursor:"pointer"},cardMedia:{height:0,paddingTop:"66.666%"}}}))(Object(u.h)(N)),w=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(r.a)(this,Object(l.a)(a).call(this,e))).state={loading:!1,albums:[],albumIdtoIndex:{}},t.getAlbumList=t.getAlbumList.bind(Object(s.a)(t)),t.getAlbumFromId=t.getAlbumFromId.bind(Object(s.a)(t)),t}return Object(c.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("Fetching album data"),Object(g.c)(p.a+"/backend/database/album",{},"GET").then((function(a){console.log("Fetching album data: successful"),e.setState({loading:!1,albums:JSON.parse(a).albums,albumIdtoIndex:JSON.parse(a).album_id_to_index})})).catch((function(){console.log("Fetching album data: failed"),e.setState({loading:!1})}))}},{key:"getAlbumList",value:function(){var e=this.props.classes;if(0===this.state.albums.length)return d.a.createElement(k.a,{variant:"h6",className:e.headline},"No images ...");var a=this.state.albums.map((function(a,t){if(0===a.visible_image_count)return"";var i;i=0===a.title_image_id?"https://storage.googleapis.com/i14-worlds-2021-gallery/default-images/default-image-1-medium.jpg":a.images[a.image_id_to_index[a.title_image_id]].filepath_medium;var n=a.name;return 0===n.length&&(n="No Title"),d.a.createElement(I.a,{item:!0,xs:12,sm:6,md:4,lg:4,xl:4,key:t},d.a.createElement(m.b,{to:"gallery/"+a.id},d.a.createElement(h.a,{elevation:3,className:e.card},d.a.createElement(b.a,{className:e.cardMedia,image:i,alt:"Images inside "+a.name}),d.a.createElement(f.a,{className:e.cardContent},n))))}));return d.a.createElement(I.a,{container:!0,spacing:2},a)}},{key:"getAlbumFromId",value:function(e){return this.state.albums[this.state.albumIdtoIndex[e]]}},{key:"render",value:function(){var e=this.props.classes;return d.a.createElement(u.d,null,d.a.createElement(u.b,{exact:!0,strict:!0,path:"/gallery"},d.a.createElement("div",{className:"GalleryPage"},d.a.createElement(k.a,{variant:"h4",className:e.headline},"Gallery"),this.state.loading&&d.a.createElement(v.a,{className:e.linearProgress,color:"secondary"}),!this.state.loading&&d.a.createElement("div",{className:e.root},this.getAlbumList()))),d.a.createElement(u.b,{path:"/gallery/:albumId"},this.state.loading&&d.a.createElement(d.a.Fragment,null,d.a.createElement(k.a,{variant:"h4",className:e.headline},"Gallery"),d.a.createElement(v.a,{className:e.linearProgress,color:"secondary"})),!this.state.loading&&d.a.createElement(C,{getAlbumFromId:this.getAlbumFromId,hideWebsite:this.props.hideWebsite})))}}]),a}(d.a.Component);a.default=S()((function(e){return{headline:{display:"block",textAlign:"center",marginBottom:e.spacing(4)},linearProgress:{borderRadius:"2px"},root:{flexGrow:1},card:{position:"relative",cursor:"pointer",minWidth:250},cardMedia:{height:0,paddingTop:"66.666%"},cardContent:{position:"absolute",display:"block",width:"100%",left:0,bottom:0,paddingTop:e.spacing(1),paddingRight:0,paddingBottom:e.spacing(1),paddingLeft:0,margin:0,"&:last-child":{paddingBottom:e.spacing(1)},backgroundColor:"hsla(0, 0%, 0%, 0.75)",color:"white",textAlign:"center",fontSize:"1.2rem"}}}))(w)}}]);
//# sourceMappingURL=8.2038c5b0.chunk.js.map