(this.webpackJsonpreact_frontend=this.webpackJsonpreact_frontend||[]).push([[6],{196:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(43),i=a(0),o=a.n(i),r=a(319),c=o.a.forwardRef((function(e,t){var a=o.a.useState("value"in e?e.value:""),i=Object(n.a)(a,2),c=i[0],l=i[1];return o.a.createElement(r.a,{fullWidth:"fullWidth"in e&&e.fullWidth,className:"className"in e?e.className:"",disabled:"disabled"in e&&e.disabled,multiline:"multiline"in e&&e.multiline,rowsMax:"rowsMax"in e?e.rowsMax:"1",value:c,inputRef:t,onChange:function(t){l(t.target.value),"onChange"in e&&e.onChange(t.target.value)},onKeyDown:function(t){"onTab"in e&&9===t.which?(t.preventDefault(),e.onTab(t.target.value)):"onEnter"in e&&13===t.which?(t.preventDefault(),e.onEnter(t.target.value)):"onEscape"in e&&27===t.which&&(console.log("Triggering Escape"),t.preventDefault(),e.onEscape(t.target.value))},onBlur:function(t){"onBlur"in e&&e.onBlur(t.target.value)},label:e.label})}))},208:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,n(a(27)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M5 19h14V5H5v14zm2.41-7.4l2.58 2.58 6.59-6.59L17.99 9l-8 8L6 13.01l1.41-1.41z",opacity:".3"}),i.default.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"})),"CheckBoxTwoTone");t.default=o},209:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,n(a(27)).default)(i.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");t.default=o},215:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,n(a(27)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M8 9h8v10H8z",opacity:".3"}),i.default.createElement("path",{d:"M15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"})),"DeleteTwoTone");t.default=o},227:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,n(a(27)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M5 5v14h14V5H5zm9 12H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z",opacity:".3"}),i.default.createElement("path",{d:"M7 15h7v2H7zm0-4h10v2H7zm0-4h10v2H7zm12-4h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64S3 4.72 3 5v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"})),"AssignmentTwoTone");t.default=o},228:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,n(a(27)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("circle",{cx:"12",cy:"8",r:"2.1",opacity:".3"}),i.default.createElement("path",{d:"M12 14.9c-2.97 0-6.1 1.46-6.1 2.1v1.1h12.2V17c0-.64-3.13-2.1-6.1-2.1z",opacity:".3"}),i.default.createElement("path",{d:"M12 13c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm6.1 5.1H5.9V17c0-.64 3.13-2.1 6.1-2.1s6.1 1.46 6.1 2.1v1.1zM12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6.1c1.16 0 2.1.94 2.1 2.1 0 1.16-.94 2.1-2.1 2.1S9.9 9.16 9.9 8c0-1.16.94-2.1 2.1-2.1z"})),"PersonOutlineTwoTone");t.default=o},229:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),o=(0,n(a(27)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M20 6H4l8 4.99zM4 8v10h16V8l-8 5z",opacity:".3"}),i.default.createElement("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 2l-8 4.99L4 6h16zm0 12H4V8l8 5 8-5v10z"})),"MailTwoTone");t.default=o},247:function(e,t,a){},266:function(e,t,a){"use strict";var n=a(1),i=a(3),o=a(11),r=a(0),c=a.n(r),l=(a(4),a(2)),s=a(6),p=a(7),u=a(187),d=a(180),m=a(153),f=a(19),h=a(121),b={enter:f.b.enteringScreen,exit:f.b.leavingScreen},g=c.a.forwardRef((function(e,t){var a=e.BackdropProps,o=e.children,r=e.classes,s=e.className,f=e.disableBackdropClick,g=void 0!==f&&f,v=e.disableEscapeKeyDown,E=void 0!==v&&v,x=e.fullScreen,y=void 0!==x&&x,C=e.fullWidth,k=void 0!==C&&C,O=e.maxWidth,j=void 0===O?"sm":O,w=e.onBackdropClick,S=e.onClose,N=e.onEnter,M=e.onEntered,T=e.onEntering,B=e.onEscapeKeyDown,V=e.onExit,D=e.onExited,W=e.onExiting,I=e.open,F=e.PaperComponent,P=void 0===F?h.a:F,z=e.PaperProps,R=void 0===z?{}:z,_=e.scroll,H=void 0===_?"paper":_,L=e.TransitionComponent,A=void 0===L?m.a:L,K=e.transitionDuration,$=void 0===K?b:K,J=e.TransitionProps,U=e["aria-describedby"],X=e["aria-labelledby"],Y=Object(i.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),G=c.a.useRef();return c.a.createElement(u.a,Object(n.a)({className:Object(l.a)(r.root,s),BackdropComponent:d.a,BackdropProps:Object(n.a)({transitionDuration:$},a),closeAfterTransition:!0,disableBackdropClick:g,disableEscapeKeyDown:E,onEscapeKeyDown:B,onClose:S,open:I,ref:t},Y),c.a.createElement(A,Object(n.a)({appear:!0,in:I,timeout:$,onEnter:N,onEntering:T,onEntered:M,onExit:V,onExiting:W,onExited:D,role:"none presentation"},J),c.a.createElement("div",{className:Object(l.a)(r.container,r["scroll".concat(Object(p.a)(H))]),onClick:function(e){e.target===e.currentTarget&&e.target===G.current&&(G.current=null,w&&w(e),!g&&S&&S(e,"backdropClick"))},onMouseDown:function(e){G.current=e.target}},c.a.createElement(P,Object(n.a)({elevation:24,role:"dialog","aria-describedby":U,"aria-labelledby":X},R,{className:Object(l.a)(r.paper,r["paperScroll".concat(Object(p.a)(H))],r["paperWidth".concat(Object(p.a)(String(j)))],R.className,y&&r.paperFullScreen,k&&r.paperFullWidth)}),o))))}));t.a=Object(s.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(o.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(g)},267:function(e,t,a){"use strict";var n=a(1),i=a(3),o=a(0),r=a.n(o),c=(a(4),a(2)),l=a(6),s=r.a.forwardRef((function(e,t){var a=e.disableSpacing,o=void 0!==a&&a,l=e.classes,s=e.className,p=Object(i.a)(e,["disableSpacing","classes","className"]);return r.a.createElement("div",Object(n.a)({className:Object(c.a)(l.root,s,!o&&l.spacing),ref:t},p))}));t.a=Object(l.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},268:function(e,t,a){"use strict";var n=a(1),i=a(3),o=a(0),r=a.n(o),c=(a(4),a(2)),l=a(6),s=a(179),p=r.a.forwardRef((function(e,t){var a=e.children,o=e.classes,l=e.className,p=e.disableTypography,u=void 0!==p&&p,d=Object(i.a)(e,["children","classes","className","disableTypography"]);return r.a.createElement("div",Object(n.a)({className:Object(c.a)(o.root,l),ref:t},d),u?a:r.a.createElement(s.a,{component:"h2",variant:"h6"},a))}));t.a=Object(l.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(p)},309:function(e,t,a){"use strict";a.r(t);var n=a(37),i=a(38),o=a(40),r=a(39),c=a(34),l=a(41),s=a(0),p=a.n(s),u=(a(247),a(54)),d=a(55),m=a(183),f=a(181),h=a(185),b=a(245),g=a(179),v=a(173),E=a(2),x=a(184),y=a(266),C=a(268),k=a(267),O=a(227),j=a.n(O),w=a(228),S=a.n(w),N=a(229),M=a.n(N),T=a(208),B=a.n(T),V=a(209),D=a.n(V),W=a(215),I=a.n(W),F=a(196),P=a(76),z=a.n(P),R=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).state={deleteDialogOpen:!1,deleting:!1},a.roleInputRef=p.a.createRef(),a.nameInputRef=p.a.createRef(),a.emailInputRef=p.a.createRef(),a.pushCurrentVersion=a.pushCurrentVersion.bind(Object(c.a)(a)),a.toggleVisibility=a.toggleVisibility.bind(Object(c.a)(a)),a.processDelete=a.processDelete.bind(Object(c.a)(a)),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"pushCurrentVersion",value:function(){var e={email:this.props.api.email,api_key:this.props.api.api_key,contact_id:this.props.contact.id,contact_role:this.props.contact.role,contact_name:this.props.contact.name,contact_email:this.props.contact.email,contact_visible:this.props.contact.visible};Object(u.c)(d.a+"/backend/database/contact",e,"PUT").then((function(e){console.log("Pushing current version: Status = "+e)})).catch((function(e){console.log("Pushing current version: Failed")}))}},{key:"toggleVisibility",value:function(){var e,t=this;e=1===this.props.contact.visible?0:1;var a={role:this.props.contact.role,name:this.props.contact.name,email:this.props.contact.email,visible:e,id:this.props.contact.id};this.props.updateState(this.props.index,a),setTimeout((function(){t.pushCurrentVersion()}),.05)}},{key:"processDelete",value:function(){var e=this;this.setState({deleting:!0});var t={email:this.props.api.email,api_key:this.props.api.api_key,contact_id:this.props.contact.id};Object(u.c)(d.a+"/backend/database/contact",t,"DELETE").then((function(t){setTimeout((function(){e.setState({deleteDialogOpen:!1,deleting:!1}),e.props.removeContactFromView(e.props.index)}),1e3)})).catch((function(t){setTimeout((function(){e.setState({deleteDialogOpen:!1,deleting:!1})}),1e3)}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return p.a.createElement(x.a,{className:Object(E.a)(t.paper,1===this.props.contact.visible?"":t.invisiblePaper),elevation:3},p.a.createElement("div",{className:Object(E.a)(t.iconInputBox,t.textFieldMarginBottom)},p.a.createElement(j.a,{className:t.lineIcon}),p.a.createElement(F.a,{fullWidth:!0,label:"Role",className:t.textField,value:this.props.contact.role,ref:this.roleInputRef,onChange:function(t){return e.props.updateState(e.props.index,{role:t})},onEnter:function(){return e.nameInputRef.current.focus()},onTab:function(){return e.nameInputRef.current.focus()},onEscape:function(){return e.roleInputRef.current.blur()},onBlur:function(){return e.pushCurrentVersion()}})),p.a.createElement("div",{className:Object(E.a)(t.iconInputBox,t.textFieldMarginTop,t.textFieldMarginBottom)},p.a.createElement(S.a,{className:t.lineIcon}),p.a.createElement(F.a,{fullWidth:!0,label:"Name",className:t.textField,value:this.props.contact.name,ref:this.nameInputRef,onChange:function(t){return e.props.updateState(e.props.index,{name:t})},onEnter:function(){return e.emailInputRef.current.focus()},onTab:function(){return e.emailInputRef.current.focus()},onEscape:function(){return e.nameInputRef.current.blur()},onBlur:function(){return e.pushCurrentVersion()}})),p.a.createElement("div",{className:Object(E.a)(t.iconInputBox,t.textFieldMarginTop,t.textFieldMarginBottom)},p.a.createElement(M.a,{className:t.lineIcon}),p.a.createElement(F.a,{fullWidth:!0,label:"Email",className:t.textField,value:this.props.contact.email,ref:this.emailInputRef,onChange:function(t){return e.props.updateState(e.props.index,{email:t})},onEnter:function(){return e.emailInputRef.current.blur()},onTab:function(){return e.emailInputRef.current.blur()},onEscape:function(){return e.emailInputRef.current.blur()},onBlur:function(){return e.pushCurrentVersion()}})),p.a.createElement(f.a,null),p.a.createElement("div",{className:t.visibilityBox},1===this.props.contact.visible&&p.a.createElement(B.a,{onClick:this.toggleVisibility,className:t.visibilityIcon}),0===this.props.contact.visible&&p.a.createElement(D.a,{onClick:this.toggleVisibility,className:t.visibilityIcon}),p.a.createElement(g.a,{className:t.visibilityText,variant:"body1"},this.props.contact.visible?"Currently Visible":"Currently Invisible")),p.a.createElement(I.a,{className:t.removeIcon,onClick:function(){return e.setState({deleteDialogOpen:!0})}}),this.state.deleteDialogOpen&&p.a.createElement(y.a,{open:!0,"aria-labelledby":"alert-dialog-title"},p.a.createElement(C.a,{id:"alert-dialog-title"},"Do you really want to delete this contact?"),p.a.createElement(k.a,null,p.a.createElement(v.a,{onClick:function(){return e.setState({deleteDialogOpen:!1})},disabled:this.state.deleting,color:"primary"},"Disagree"),p.a.createElement("div",{className:t.buttonSpinnerWrapper},p.a.createElement(v.a,{onClick:this.processDelete,disabled:this.state.deleting,autoFocus:!0},"Agree"),this.state.deleting&&p.a.createElement(b.a,{size:24,className:t.buttonProgress,color:"secondary"})))))}}]),t}(p.a.Component),_=z()((function(e){return{paper:{position:"relative",padding:e.spacing(2),minWidth:300},invisiblePaper:{backgroundColor:"rgb(230, 230, 230)"},textField:{display:"inline-flex"},textFieldMarginTop:{marginTop:e.spacing(2)},textFieldMarginBottom:{marginBottom:e.spacing(2)},lineIcon:{position:"relative",marginRight:e.spacing(2),marginBottom:e.spacing(.5),alignSelf:"flex-end"},iconInputBox:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},visibilityBox:{display:"flex",justifyContent:"left",alignItems:"center",flexDirection:"row",marginTop:e.spacing(2)},visibilityIcon:{marginRight:e.spacing(2),cursor:"pointer",alignSelf:"flex-start"},visibilityText:{alignSelf:"flex-start"},removeIcon:{cursor:"pointer",position:"absolute",right:e.spacing(2),bottom:e.spacing(2)},buttonSpinnerWrapper:{position:"relative",display:"inline-flex",marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}))(R),H=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).state={loading:!0,contacts:[],creatingContact:!1},a.updateState=a.updateState.bind(Object(c.a)(a)),a.removeContactFromView=a.removeContactFromView.bind(Object(c.a)(a)),a.createContact=a.createContact.bind(Object(c.a)(a)),a.getContactList=a.getContactList.bind(Object(c.a)(a)),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Fetching contact data");var t={email:this.props.api.email,api_key:this.props.api.api_key};Object(u.a)(d.a+"/backend/database/contact",t).then((function(t){console.log("Fetching contact data: successful"),e.setState({loading:!1,contacts:JSON.parse(t).contacts})})).catch((function(){console.log("Fetching contact data: failed"),e.setState({loading:!1})}))}},{key:"updateState",value:function(e,t){var a=this.state.contacts;Object.assign(a[e],t),this.setState({contacts:a})}},{key:"removeContactFromView",value:function(e){for(var t=[],a=0;a<this.state.contacts.length;a++)a!==e&&t.push(this.state.contacts[a]);this.setState({contacts:t})}},{key:"createContact",value:function(){var e=this;console.log("Creating new contact"),this.setState({creatingContact:!0});var t={email:this.props.api.email,api_key:this.props.api.api_key};Object(u.c)(d.a+"/backend/database/contact",t,"POST").then((function(t){console.log("Creating new contact: Status = "+t);var a={role:"",name:"",email:"",visible:0,id:JSON.parse(t).new_contact_id},n=e.state.contacts;n.push(a),e.setState({creatingContact:!1,contacts:n})})).catch((function(){console.log("Creating new contact: failed"),e.setState({creatingContact:!1})}))}},{key:"getContactList",value:function(){var e=this,t=this.state.contacts.map((function(t,a){return p.a.createElement(m.a,{item:!0,xs:12,sm:6,key:a},p.a.createElement(_,{api:e.props.api,contact:t,index:a,updateState:e.updateState,removeContactFromView:e.removeContactFromView}))}));return p.a.createElement(m.a,{container:!0,spacing:2,justify:"center"},t)}},{key:"render",value:function(){var e=this.props.classes;return p.a.createElement("div",{className:"AdminContactUsPage"},p.a.createElement(g.a,{variant:"h4",className:e.headline},"Contact Us"),this.state.loading&&p.a.createElement(h.a,{className:e.linearProgress,color:"secondary"}),p.a.createElement("div",{className:e.root},!this.state.loading&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:e.wrapper},p.a.createElement(v.a,{variant:"contained",color:"secondary",disabled:this.state.creatingContact,onClick:this.createContact,className:e.button},"Add Contact"),this.state.creatingContact&&p.a.createElement(b.a,{size:24,className:e.buttonProgress,color:"secondary"})),p.a.createElement(f.a,{className:e.divider}),this.getContactList())))}}]),t}(p.a.Component);t.default=z()((function(e){return{headline:{display:"block",textAlign:"center",marginBottom:e.spacing(4)},linearProgress:{borderRadius:"2px"},root:{flexGrow:1},wrapper:{display:"flex",position:"relative",alignItems:"center",justifyContent:"center"},button:{color:"white"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}))(H)}}]);
//# sourceMappingURL=6.69904da4.chunk.js.map